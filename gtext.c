/*
 * $Header: /home/bnv/prg/multimedia/motion_detect/RCS/gtext.c,v 1.3 2007/12/09 13:26:02 bnv Exp $
 * $Log: gtext.c,v $
 * Revision 1.3  2007/12/09 13:26:02  bnv
 * Changed to use V4L
 *
 * Revision 1.2  2006/01/10 15:24:32  bnv
 * Corrected: signed vs unsigned char
 *
 * Revision 1.1  2006/01/10 14:13:32  bnv
 * Initial revision
 *
 * Revision 1.1  96/10/18  10:01:10  10:01:10  bnv (Vassilis Vlachoudis)
 * Initial revision
 *
 */

#include <os.h>
#include <stdio.h>
#include <stdlib.h>

static char *letter[] = {
	"\041\007\007\005\000\007\005\000\007\005\000\007\005\000\006\005\000\007\003\000\007\003\000\007\003\000\001\000\001\000\007\003\000\006\004\000\006\003\000\377",
	"\042\007\006\003\003\003\000\005\004\002\004\000\006\002\004\002\000\006\002\004\002\000\005\002\004\002\000\004\002\004\002\000\004\001\005\001\000\377",
	"\043\007\006\003\001\003\000\006\003\001\003\000\304\004\001\003\000\003\014\000\003\014\000\304\003\001\004\000\304\003\001\003\000\002\014\000\002\014\000\004\003\002\003\000\004\003\001\003\000\004\003\001\003\000\004\003\001\003\000\377",
	"\044\006\010\003\000\010\003\000\005\010\000\004\012\000\004\003\003\004\000\004\003\000\004\010\000\006\007\000\012\004\000\003\004\004\003\000\004\012\000\005\010\000\006\003\000\006\003\000\377",
	"\045\007\005\004\003\003\000\004\005\002\003\000\003\006\001\003\000\003\005\001\003\000\003\004\001\004\000\010\003\000\007\003\000\006\003\000\005\003\002\004\000\004\003\002\005\000\003\003\002\006\000\002\003\003\005\000\010\004\000\377",
	"\046\007\007\004\000\006\005\000\005\003\001\003\000\004\003\002\003\000\004\003\001\003\000\005\005\000\004\006\000\003\007\001\003\000\002\004\002\005\000\002\003\004\003\000\002\003\004\003\000\002\012\000\003\006\001\003\000\377",
	"\047\007\007\003\000\006\004\000\007\002\000\007\002\000\006\002\000\005\002\000\005\001\000\377",
	"\050\007\012\003\000\010\004\000\007\004\000\006\004\000\005\004\000\004\004\000\004\003\000\004\003\000\004\003\000\004\003\000\004\004\000\005\004\000\007\003\000\377",
	"\051\007\007\003\000\010\004\000\011\004\000\012\003\000\012\003\000\012\003\000\012\003\000\011\004\000\010\004\000\007\004\000\006\004\000\005\004\000\004\003\000\377",
	"\052\010\003\003\005\003\000\004\003\003\003\000\005\003\001\003\000\006\005\000\003\013\000\003\013\000\006\005\000\005\003\001\003\000\004\003\003\003\000\003\003\005\003\000\377",
	"\053\010\010\003\000\010\003\000\007\004\000\007\003\000\003\013\000\003\013\000\007\003\000\006\004\000\006\003\000\006\003\000\377",
	"\054\017\006\003\000\005\004\000\005\004\000\005\003\000\004\003\000\003\003\000\377",
	"\055\014\003\013\000\003\013\000\377",
/*	"\055\001\007\002\000\007\002\000\007\002\000\007\002\000\007\002\000\007\002\000\007\002\000\007\002\000\007\002\000\007\002\000\007\002\000\007\002\000\001\010\000\007\002\000\007\002\000\007\002\000\007\002\000\007\002\000\007\002\000\007\002\000\007\002\000\007\002\000\007\002\000\007\002\000\377", */
	"\056\021\007\003\000\006\005\000\007\003\000\377",
	"\057\010\014\003\000\013\004\000\012\003\000\011\003\000\010\003\000\007\003\000\006\003\000\005\003\000\004\003\000\002\004\000\002\003\000\377",
	"\060\007\010\004\000\006\002\003\002\000\005\002\005\002\000\004\002\006\002\000\004\002\006\002\000\003\002\007\002\000\003\002\006\002\000\003\002\006\002\000\003\002\005\002\000\003\002\005\002\000\003\002\004\002\000\003\002\003\002\000\004\004\000\377",
	"\061\007\012\002\000\010\004\000\012\002\000\011\002\000\011\002\000\011\002\000\010\002\000\010\002\000\010\002\000\007\002\000\007\002\000\006\003\000\004\006\000\377",
	"\062\007\010\004\000\006\003\001\003\000\005\002\005\002\000\014\002\000\014\002\000\013\002\000\012\002\000\011\002\000\010\002\000\007\002\000\006\002\004\001\000\004\003\004\001\000\003\011\000\377",
	"\063\007\010\005\000\007\002\003\002\000\014\002\000\014\002\000\013\002\000\011\003\000\007\004\000\012\002\000\012\002\000\012\002\000\012\002\000\003\002\004\002\000\004\006\000\377",
	"\064\007\013\002\000\012\003\000\011\004\000\010\004\000\007\002\001\002\000\006\002\002\002\000\005\002\002\002\000\004\002\003\002\000\003\002\004\002\000\002\013\000\010\002\000\010\002\000\007\002\000\377",
	"\065\007\007\007\000\007\006\000\006\002\000\006\002\000\006\004\000\011\002\000\012\002\000\013\002\000\013\002\000\012\002\000\012\002\000\003\003\003\002\000\004\006\000\377",
	"\066\007\012\003\000\010\003\000\007\002\000\006\002\000\005\002\000\004\007\000\004\002\003\003\000\003\002\005\002\000\003\002\005\002\000\003\002\005\002\000\003\002\005\002\000\004\002\003\002\000\005\005\000\377",
	"\067\007\005\011\000\004\003\003\003\000\003\001\006\002\000\011\002\000\010\002\000\010\002\000\007\002\000\007\002\000\006\002\000\006\002\000\005\002\000\005\002\000\004\002\000\377",
	"\070\007\010\006\000\007\002\004\002\000\006\002\005\002\000\006\002\004\002\000\006\002\003\002\000\007\005\000\005\006\000\004\002\004\002\000\003\002\006\002\000\002\002\007\002\000\002\002\006\002\000\003\002\004\002\000\004\006\000\377",
	"\071\007\007\005\000\006\002\003\002\000\005\002\004\002\000\004\002\006\002\000\004\002\006\002\000\004\002\005\002\000\005\002\003\003\000\006\006\000\011\002\000\010\002\000\006\003\000\004\003\000\003\002\000\377",
	"\072\013\011\003\000\010\004\000\010\003\000\001\000\001\000\001\000\007\003\000\006\004\000\006\003\000\377",
	"\073\012\007\003\000\006\004\000\006\003\000\001\000\001\000\006\003\000\005\004\000\005\004\000\005\003\000\004\003\000\003\003\000\377",
	"\074\010\012\004\000\010\004\000\007\004\000\005\004\000\003\004\000\003\004\000\004\004\000\006\004\000\007\004\000\010\004\000\377",
	"\075\011\005\010\000\005\010\000\001\000\001\000\001\000\004\010\000\004\010\000\377",
	"\076\010\005\004\000\006\004\000\007\004\000\011\004\000\012\004\000\012\004\000\010\004\000\006\004\000\005\004\000\003\004\000\377",
	"\077\007\007\007\000\006\011\000\005\003\004\003\000\004\003\005\003\000\012\004\000\007\006\000\006\004\000\006\003\000\006\003\000\001\000\001\000\005\003\000\004\004\000\004\003\000\377",
	"\100\007\006\006\000\005\010\000\004\003\004\003\000\014\003\000\014\003\000\013\004\000\004\006\001\003\000\003\007\001\003\000\002\003\002\003\001\003\000\002\003\001\003\001\004\000\002\003\001\003\001\003\000\003\012\000\004\005\001\003\000\377",
	"\101\007\016\001\000\015\002\000\014\003\000\013\004\000\012\002\001\002\000\011\002\002\002\000\010\002\003\002\000\007\002\004\002\000\006\011\000\005\002\006\002\000\004\002\007\002\000\003\002\010\002\000\001\005\005\005\000\377",
	"\102\007\005\011\000\006\002\005\002\000\006\002\005\002\000\005\002\006\002\000\005\002\005\002\000\005\002\004\002\000\004\010\000\004\002\005\002\000\004\002\006\002\000\003\002\007\002\000\003\002\006\002\000\003\002\005\002\000\001\012\000\377",
	"\103\007\007\006\001\001\000\005\003\004\003\000\004\002\007\002\000\003\003\007\002\000\002\003\000\002\003\000\001\003\000\001\003\000\001\002\000\001\002\000\002\002\007\002\000\002\003\004\003\000\003\010\000\377",
	"\104\007\004\012\000\005\003\004\003\000\006\002\005\003\000\005\002\006\003\000\005\002\006\003\000\005\002\006\003\000\004\002\007\003\000\004\002\007\003\000\004\002\006\003\000\003\002\007\003\000\003\002\006\003\000\002\003\005\003\000\001\012\000\377",
	"\105\007\004\013\000\005\003\005\002\000\006\002\006\001\000\005\002\000\005\002\003\001\000\005\002\002\002\000\004\007\000\004\002\003\001\000\004\002\000\003\002\007\001\000\003\002\006\002\000\002\003\005\002\000\001\013\000\377",
	"\106\007\004\013\000\005\003\005\002\000\006\002\006\001\000\005\002\000\005\002\003\001\000\005\002\002\002\000\004\007\000\004\002\003\001\000\004\002\000\003\002\000\003\002\000\002\003\000\001\005\000\377",
	"\107\007\007\006\001\001\000\005\003\004\003\000\004\002\007\002\000\003\003\010\001\000\002\003\000\002\003\000\001\003\000\001\003\005\006\000\001\002\010\002\000\001\002\010\002\000\002\002\007\002\000\002\003\005\002\000\003\010\000\377",
	"\110\007\004\005\002\005\000\005\003\004\003\000\006\002\005\002\000\005\002\005\002\000\005\002\005\002\000\005\002\005\002\000\004\011\000\004\002\005\002\000\004\002\005\002\000\003\002\005\002\000\003\002\005\002\000\002\003\004\003\000\001\005\002\005\000\377",
	"\111\007\007\006\000\010\004\000\011\002\000\010\002\000\010\002\000\010\002\000\007\002\000\007\002\000\007\002\000\006\002\000\006\002\000\005\004\000\004\006\000\377",
	"\112\007\010\006\000\011\004\000\012\002\000\011\002\000\011\002\000\011\002\000\010\002\000\010\002\000\010\002\000\007\002\000\003\001\003\002\000\002\002\003\002\000\002\006\000\377",
	"\113\007\004\006\002\004\000\005\003\005\002\000\006\002\004\002\000\005\002\004\002\000\005\002\002\002\000\005\005\000\004\005\000\004\002\002\002\000\004\002\002\002\000\003\002\004\002\000\003\002\005\002\000\002\003\005\003\000\001\005\003\006\000\377",
	"\114\007\005\007\000\006\003\000\007\002\000\006\002\000\006\002\000\006\002\000\005\002\000\005\002\000\005\002\000\004\002\010\001\000\004\002\007\001\000\004\003\005\002\000\002\013\000\377",
	"\115\007\001\005\007\003\000\003\003\007\002\000\003\004\005\003\000\003\004\004\004\000\002\002\001\002\003\005\000\002\002\002\002\002\002\001\002\000\002\002\002\002\001\002\002\002\000\002\002\003\003\002\002\000\002\002\003\002\003\002\000\002\002\003\001\004\002\000\001\002\010\002\000\001\002\010\002\000\001\003\005\005\000\377",
	"\116\007\003\005\004\004\000\005\002\006\002\000\004\002\006\002\000\004\002\006\002\000\004\003\005\002\000\003\002\001\002\003\002\000\003\002\001\002\003\002\000\003\002\002\002\002\002\000\003\002\002\002\002\002\000\003\002\003\002\001\002\000\002\002\005\003\000\002\002\005\003\000\001\003\006\002\000\377",
	"\117\007\007\007\000\005\003\004\003\000\004\002\007\002\000\003\003\007\003\000\002\003\010\003\000\002\003\010\003\000\001\003\010\003\000\001\003\010\003\000\001\002\011\002\000\001\002\010\002\000\002\002\007\002\000\002\003\004\003\000\003\010\000\377",
	"\120\007\004\012\000\005\003\004\003\000\006\002\005\003\000\005\002\006\003\000\005\002\006\002\000\005\002\005\002\000\004\011\000\004\002\000\004\002\000\003\002\000\003\002\000\002\003\000\001\006\000\377",
	"\121\007\007\007\000\005\003\004\003\000\004\002\007\002\000\003\003\007\003\000\002\003\010\003\000\002\003\010\003\000\001\003\010\003\000\001\003\010\003\000\001\002\011\002\000\001\002\010\002\000\002\002\007\002\000\002\003\004\003\000\003\010\000\004\002\007\001\000\003\005\004\002\000\002\002\001\010\000\377",
	"\122\007\004\012\000\005\003\004\003\000\006\002\005\003\000\005\002\006\003\000\005\002\006\002\000\005\002\005\002\000\004\011\000\004\002\002\003\000\004\002\003\002\000\003\002\005\002\000\003\002\006\002\000\002\003\006\003\000\001\004\005\006\000\377",
	"\123\007\006\005\001\003\000\005\002\003\004\000\005\002\005\002\000\005\002\005\001\000\005\003\000\005\004\000\006\005\000\010\004\000\011\003\000\003\001\006\002\000\002\002\006\002\000\002\004\004\002\000\001\003\001\006\000\377",
	"\124\007\002\015\000\002\002\003\002\004\002\000\001\002\004\002\003\002\000\006\002\000\006\002\000\006\002\000\006\002\000\005\002\000\005\002\000\005\002\000\005\002\000\004\003\000\003\005\000\377",
	"\125\007\002\005\004\005\000\003\002\007\002\000\003\002\007\002\000\002\002\010\002\000\002\002\007\002\000\002\002\007\002\000\001\002\010\002\000\001\002\007\002\000\001\002\007\002\000\001\002\007\002\000\001\002\006\002\000\002\002\004\002\000\003\006\000\377",
	"\126\007\002\005\004\005\000\003\003\006\002\001\001\000\003\002\006\002\000\003\002\006\002\000\003\002\005\002\000\003\002\004\002\000\003\002\003\002\000\003\002\002\002\000\003\005\000\003\004\000\003\003\000\003\002\000\003\001\000\377",
	"\127\007\001\005\007\003\000\002\003\004\001\003\003\000\002\002\004\002\004\002\000\002\002\004\002\004\002\000\002\002\003\003\004\002\000\002\002\002\004\003\002\000\002\002\001\002\001\002\003\002\000\002\002\001\002\001\002\002\002\000\002\004\002\002\001\002\000\002\003\003\004\000\002\002\004\003\000\002\002\004\002\000\002\001\005\001\000\377",
	"\130\007\003\006\002\005\000\005\003\004\002\000\006\002\003\002\000\006\002\002\002\000\006\002\001\002\000\007\003\000\007\002\000\006\004\000\005\002\001\002\000\004\002\002\002\000\003\002\004\002\000\002\002\005\002\000\001\004\002\006\000\377",
	"\131\007\002\005\004\004\000\003\003\006\002\000\004\002\005\002\000\004\002\004\002\000\005\002\002\002\000\005\005\000\006\003\000\006\002\000\006\002\000\005\002\000\005\002\000\004\003\000\002\007\000\377",
	"\132\007\004\014\000\003\003\006\003\000\002\002\007\002\000\012\002\000\011\002\000\010\002\000\007\002\000\006\002\000\005\002\000\004\002\000\003\002\010\002\000\002\003\006\003\000\001\014\000\377",
	"\133\007\010\007\000\010\007\000\007\002\000\007\002\000\006\002\000\006\002\000\005\002\000\005\002\000\005\002\000\004\002\000\004\002\000\003\002\000\003\002\000\002\007\000\002\007\000\377",
	"\134\010\002\003\000\002\004\000\004\003\000\005\003\000\006\003\000\007\003\000\010\003\000\011\003\000\012\003\000\013\004\000\014\003\000\377",
	"\135\007\010\007\000\010\007\000\014\002\000\014\002\000\013\002\000\013\002\000\012\002\000\012\002\000\012\002\000\011\002\000\011\002\000\010\002\000\010\002\000\002\007\000\002\007\000\377",
	"\136\014\004\011\000\004\011\000\011\004\000\011\003\000\377",
	"\137\025\001\017\000\001\017\000\377",
	"\141\013\006\004\001\002\000\005\002\002\003\000\004\002\004\002\000\004\002\004\002\000\003\002\004\002\000\003\002\004\002\000\003\002\003\003\000\003\002\002\004\001\001\000\004\004\001\003\000\377",
	"\142\007\006\003\000\007\002\000\007\002\000\006\002\000\006\002\001\004\000\006\004\002\002\000\005\002\005\002\000\005\002\005\002\000\004\002\006\002\000\004\002\005\002\000\004\002\004\002\000\004\002\003\002\000\005\005\000\377",
	"\143\013\007\005\000\006\002\003\002\000\005\002\004\002\000\005\002\000\004\002\000\004\002\000\004\002\005\001\000\005\002\002\002\000\006\004\000\377",
	"\144\007\012\004\000\013\003\000\014\002\000\013\002\000\006\004\001\002\000\005\002\001\004\000\004\002\004\002\000\003\002\005\002\000\003\002\005\002\000\002\002\005\002\000\002\002\005\002\000\002\002\003\004\001\001\000\003\005\001\004\000\377",
	"\145\013\010\004\000\007\002\002\002\000\006\002\003\002\000\005\002\003\002\000\004\007\000\004\002\000\004\002\000\004\002\003\002\000\005\005\000\377",
	"\146\007\011\005\000\010\002\002\002\000\010\002\000\007\002\000\005\007\000\007\002\000\006\002\000\006\002\000\006\002\000\005\002\000\005\002\000\005\002\000\005\002\000\004\002\000\001\002\001\002\000\001\004\000\377",
	"\147\013\007\005\000\006\002\003\003\000\005\002\004\002\000\005\002\003\002\000\005\002\003\002\000\006\004\000\005\002\000\005\004\000\004\002\002\003\000\003\002\005\002\000\003\002\005\002\000\004\007\000\377",
	"\150\007\005\004\000\007\002\000\007\002\000\006\002\000\006\002\002\003\000\005\002\002\002\001\002\000\005\002\001\002\002\002\000\005\004\002\002\000\004\002\005\002\000\004\002\004\002\000\004\002\004\002\000\003\002\005\002\001\002\000\003\002\004\005\000\377",
	"\151\010\012\002\000\012\002\000\001\000\010\003\000\011\002\000\011\002\000\010\002\000\010\002\000\010\002\000\007\002\000\007\002\001\001\000\007\004\000\377",
	"\152\010\013\002\000\013\002\000\001\000\010\004\000\012\002\000\012\002\000\011\002\000\011\002\000\011\002\000\010\002\000\010\002\000\007\002\000\004\001\002\002\000\005\003\000\377",
	"\153\007\005\004\000\007\002\000\007\002\000\006\002\000\006\002\001\004\000\005\002\003\002\000\005\002\002\002\000\005\005\000\004\002\001\002\000\004\002\002\002\000\004\002\002\002\000\003\002\004\002\001\001\000\003\002\005\003\000\377",
	"\154\007\010\004\000\012\002\000\012\002\000\011\002\000\011\002\000\010\002\000\010\002\000\010\002\000\007\002\000\007\002\000\006\002\000\006\002\001\001\000\006\004\000\377",
	"\155\013\002\003\002\003\002\003\000\003\002\001\007\001\002\000\003\004\002\003\002\002\000\003\003\003\002\003\002\000\002\002\004\002\003\002\000\002\002\004\002\003\002\000\001\003\003\002\003\002\000\001\002\004\002\003\002\001\001\000\001\002\004\002\004\003\000\377",
	"\156\013\005\003\002\004\000\005\002\001\006\000\005\004\003\002\000\004\003\005\002\000\004\002\005\002\000\004\002\005\002\000\004\002\004\002\000\003\002\005\002\001\001\000\003\002\006\003\000\377",
	"\157\013\006\005\000\004\003\003\002\000\003\002\006\002\000\002\002\007\002\000\002\002\006\002\000\002\002\006\002\000\002\002\005\002\000\003\002\003\002\000\004\005\000\377",
	"\160\013\004\004\001\004\000\005\005\002\002\000\005\003\004\002\000\005\002\005\002\000\004\002\005\002\000\004\002\005\002\000\004\002\004\002\000\003\005\001\002\000\003\002\002\003\000\002\002\000\002\002\000\002\004\000\377",
	"\161\013\010\004\001\002\000\006\003\002\003\000\005\002\004\002\000\004\002\005\002\000\004\002\005\002\000\003\002\005\002\000\003\002\004\003\000\003\002\002\004\000\004\004\001\002\000\011\002\000\010\002\000\010\004\000\377",
	"\162\013\006\003\002\002\000\007\002\001\004\000\007\004\001\001\000\006\003\000\006\002\000\006\002\000\005\002\000\005\002\000\005\002\000\377",
	"\163\013\007\004\001\001\000\006\002\002\003\000\006\002\003\001\000\007\002\000\010\002\000\011\002\000\005\001\003\002\000\004\003\002\002\000\004\001\001\004\000\377",
	"\164\010\012\001\000\011\002\000\011\002\000\005\011\000\010\002\000\007\002\000\007\002\000\007\002\000\006\002\000\006\002\000\006\002\001\001\000\007\003\000\377",
	"\165\013\004\002\005\002\000\002\004\004\002\000\004\002\004\002\000\003\002\004\002\000\003\002\004\002\000\003\002\004\002\000\002\002\003\003\000\002\010\001\001\000\003\004\002\003\000\377",
	"\166\013\003\003\003\003\000\004\002\004\002\000\004\002\004\002\000\004\002\003\002\000\004\002\003\002\000\004\002\002\002\000\004\002\001\002\000\004\004\000\005\002\000\377",
	"\167\013\001\002\012\003\000\002\002\004\002\004\002\000\002\002\004\002\004\002\000\002\002\003\003\003\002\000\002\002\002\002\001\002\002\002\000\003\004\002\002\001\002\000\003\003\003\002\001\002\000\003\002\004\004\000\003\002\005\002\000\377",
	"\170\013\004\003\004\003\000\006\002\002\002\001\001\000\006\002\001\002\000\007\003\000\007\002\000\006\004\000\005\002\001\002\002\001\000\002\001\001\002\003\003\000\002\003\005\002\000\377",
	"\171\013\004\004\003\003\000\006\002\004\002\000\006\002\004\002\000\006\002\003\002\000\006\002\002\002\000\006\002\001\002\000\006\004\000\006\003\000\006\002\000\005\002\000\002\001\001\002\000\002\003\000\377",
	"\172\013\005\010\000\005\002\002\003\000\005\001\003\002\000\010\002\000\007\002\000\006\002\000\005\002\004\001\000\004\003\002\002\000\003\010\000\377",
	"\174\005\010\003\000\010\003\000\010\003\000\010\003\000\007\004\000\007\003\000\007\003\000\007\003\000\007\003\000\007\003\000\007\003\000\006\004\000\006\003\000\006\003\000\006\003\000\006\003\000\006\003\000\377",
	"\271\005\006\010\000\006\002\000\006\002\000\006\007\000\014\002\000\014\002\000\004\002\006\002\000\004\002\005\002\000\005\007\000\377",
	"\275\005\007\006\000\005\003\003\003\000\005\002\005\002\000\005\002\005\002\000\005\003\003\003\000\006\007\000\011\003\000\010\003\000\007\003\000\377",
	"\000",
};

/* --- putLetter --- */
/* returns maximum width */
int PutLetter(byte *image, int width, int height, int l, int x, int y, int col)
{
	int i,xp,count,textwidth=0,w=0,toggle=0;
	byte *c;
	byte *pos;

	if (l==' ') return 10;

	for (i=0; letter[i][0]; i++)
		if (letter[i][0] == l) {
			c = (unsigned char*)letter[i];
			c++;
			goto dis000;
		}
	return 0;

dis000:
	y += *c;
	xp = x;
	for (c++; *c!=0xFF; c++) {
		count = *c;
		if (y>=height) break;
		if (count) {
			if (!toggle)
				xp += count;
			else
				for (i=0; i<count; i++) {
					pos = image + ((y*width + xp)*3);
					*pos++ = (col>>16)&0xFF;
					*pos++ = (col>>8)&0xFF;
					*pos++ = col&0xFF;
					xp++;
				}
			w += count;
			if (w>textwidth) textwidth = w;
			toggle = !toggle;
		} else {
			y++;
			xp     = x;
			toggle = 0;
			w      = 0;
		}
	}
	return textwidth-1;
} /* PutLetter */

/* --- DrawText --- */
int
DrawText(byte *image, int width, int height, char *txt, int x, int y, int col)
{
	int w;

	for (;*txt; txt++) {
		w = PutLetter(image, width, height, *txt, x, y, col);
		x += w;
	}
	return x;
} /* DrawText */
